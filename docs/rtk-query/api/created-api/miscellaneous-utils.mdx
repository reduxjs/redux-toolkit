---
id: miscellaneous-utils
title: 'API Slices: Miscellaneous Utils'
sidebar_label: Miscellaneous Utils
hide_title: true
---

&nbsp;

# API Slices: Miscellaneous Utilities

The API slice object includes miscellaneous utilities that may be used for scenarios such as SSR, Suspense for Data Fetching, etc.

:::info Usage Reference

- [Server Side Rendering](../../usage/server-side-rendering.mdx)

:::

Each API slice object has `getRunningOperationPromises` and `getRunningOperationPromise` functions.

## `getRunningOperationPromises`

#### Signature

```ts no-transpile
getRunningOperationPromises: () => Array<Promise<unknown>>
```

#### Description

A function that returns all promises for running queries and mutations.

This is useful for SSR scenarios to await everything triggered in any way, including via hook calls,
or manually dispatching `initiate` actions.

```ts no-transpile title="Awaiting all currently running queries & mutations example"
await Promise.all(api.getRunningOperationPromises())
```

## `getRunningOperationPromise`

#### Signature

```ts no-transpile
getRunningOperationPromise: <EndpointName extends QueryKeys<Definitions>>(
  endpointName: EndpointName,
  args: QueryArgFrom<Definitions[EndpointName]>
) =>
  | QueryActionCreatorResult<Definitions[EndpointName]>
  | undefined

getRunningOperationPromise: <EndpointName extends MutationKeys<Definitions>>(
  endpointName: EndpointName,
  fixedCacheKeyOrRequestId: string
) =>
  | MutationActionCreatorResult<Definitions[EndpointName]>
  | undefined
```

#### Description

A function that returns a single promise for a given endpoint name + argument combination,
if it is currently running. If it is not currently running, the function returns `undefined`.

This is primarily added to add experimental support for suspense in the future.
It enables writing custom hooks that look up if RTK Query has already got a running promise
for a certain endpoint/argument combination, and retrieving that promise to `throw` it.
